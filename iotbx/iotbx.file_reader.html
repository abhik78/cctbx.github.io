<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>iotbx.file_reader - generic file input &mdash; CCTBX None documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'None',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="CCTBX None documentation" href="../index.html" />
    <link rel="up" title="iotbx - file readers and writers" href="index.html" />
    <link rel="prev" title="iotbx - file readers and writers" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="iotbx - file readers and writers"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">CCTBX None documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">iotbx - file readers and writers</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="iotbx-file-reader-generic-file-input">
<h1>iotbx.file_reader - generic file input<a class="headerlink" href="#iotbx-file-reader-generic-file-input" title="Permalink to this headline">Â¶</a></h1>
<p>The <tt class="docutils literal"><span class="pre">iotbx.file_reader</span></tt> module is intended to provide a single entry point
for reading most common crystallographic file formats.  This allows the
programmer to use the underlying input functions without needing to know the
specific APIs in detail, although the resulting objects will still be
format-specific.  It is also designed to support automatic file type
determination, first by guessing the format based on the file extension, then
by trying a succession of input methods until one finishes without an error.
This facility is used both for processing command-line arguments (especially
via the <tt class="xref py py-mod docutils literal"><span class="pre">iotbx.phil</span></tt> extensions), and for handling file input in the
Phenix GUI.</p>
<p>In the simplest case, reading a file requires only a single method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">iotbx.file_reader</span> <span class="kn">import</span> <span class="n">any_file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_file</span> <span class="o">=</span> <span class="n">any_file</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">file_data</span> <span class="o">=</span> <span class="n">input_file</span><span class="o">.</span><span class="n">file_object</span>
</pre></div>
</div>
<p>Note that if the extension does not imply a particular format to try first, or
if parsing using the appropriate module fails due to corrupted file data, this
may be more inefficient than explicitly specifying the file
type, and should be used only when the format is not known in advance.  You
can alternately specify which input module to use:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pdb_in</span> <span class="o">=</span> <span class="n">any_file</span><span class="p">(</span><span class="s">&quot;model.pdb&quot;</span><span class="p">,</span> <span class="n">force_type</span><span class="o">=</span><span class="s">&quot;pdb&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pdb_in</span><span class="o">.</span><span class="n">assert_file_type</span><span class="p">(</span><span class="s">&quot;pdb&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hierarchy</span> <span class="o">=</span> <span class="n">pdb_in</span><span class="o">.</span><span class="n">file_object</span><span class="o">.</span><span class="n">construct_hierarchy</span><span class="p">()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">mtz_in</span> <span class="o">=</span> <span class="n">any_file</span><span class="p">(</span><span class="s">&quot;data.mtz&quot;</span><span class="p">,</span> <span class="n">force_type</span><span class="o">=</span><span class="s">&quot;hkl&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">miller_arrays</span> <span class="o">=</span> <span class="n">mtz_in</span><span class="o">.</span><span class="n">file_server</span><span class="o">.</span><span class="n">miller_arrays</span>
</pre></div>
</div>
<p>This will skip the automatic format detection and only try the specified
input method.  Several options are available for error handling; the default
behavior when <tt class="docutils literal"><span class="pre">force_type</span></tt> is set is to pass through any exceptions
encountered when calling the underlying input method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">iotbx.file_reader</span> <span class="kn">import</span> <span class="n">any_file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">any_file</span><span class="p">(</span><span class="s">&quot;model.pdb&quot;</span><span class="p">,</span> <span class="n">force_type</span><span class="o">=</span><span class="s">&quot;hkl&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
  File <span class="nb">&quot;/Users/nat/src/cctbx_project/iotbx/file_reader.py&quot;</span>, line <span class="m">197</span>, in <span class="n">any_file</span>
    <span class="n">raise_sorry_if_not_expected_format</span><span class="o">=</span><span class="n">raise_sorry_if_not_expected_format</span><span class="p">)</span>
  File <span class="nb">&quot;/Users/nat/src/cctbx_project/iotbx/file_reader.py&quot;</span>, line <span class="m">251</span>, in <span class="n">__init__</span>
    <span class="n">read_method</span><span class="p">()</span>
  File <span class="nb">&quot;/Users/nat/src/cctbx_project/iotbx/file_reader.py&quot;</span>, line <span class="m">341</span>, in <span class="n">_try_as_hkl</span>
    <span class="k">assert</span> <span class="p">(</span><span class="n">hkl_file</span><span class="o">.</span><span class="n">file_type</span><span class="p">()</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">),</span> <span class="s">&quot;Not a valid reflections file.&quot;</span>
<span class="gr">AssertionError</span>: <span class="n">Not a valid reflections file.</span>
</pre></div>
</div>
<p>This is fine for internal use when an unexpected file parsing error is likely
to be a bug in the code, but less suitable when processing user input.
Alternately, a <tt class="xref py py-class docutils literal"><span class="pre">libtbx.utils.Sorry</span></tt> exception may be raised instead:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">any_file</span><span class="p">(</span><span class="s">&quot;model.pdb&quot;</span><span class="p">,</span> <span class="n">force_type</span><span class="o">=</span><span class="s">&quot;hkl&quot;</span><span class="p">,</span> <span class="n">raise_sorry_if_errors</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Sorry: Couldn&#39;t read &#39;model.pdb&#39; as file type &#39;hkl&#39;: Not a valid reflections file.</span>
</pre></div>
</div>
<p>For PDB, MTZ, and CIF files (the most commonly used formats in macromolecular
crystallograph), it is also possible to get similar behavior by treating the
file extension as an implicit replacement for <tt class="docutils literal"><span class="pre">force_type</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">iotbx.file_reader</span> <span class="kn">import</span> <span class="n">any_file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">any_file</span><span class="p">(</span><span class="s">&quot;model.sca&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">f</span><span class="o">.</span><span class="n">file_type</span>
<span class="go">pdb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">any_file</span><span class="p">(</span><span class="s">&quot;model.sca&quot;</span><span class="p">,</span> <span class="n">raise_sorry_if_not_expected_format</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Sorry: File format error:</span>
<span class="go">Not a valid reflections file.</span>
</pre></div>
</div>
<p>The allowed file types are specified in the module:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">standard_file_descriptions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">&#39;pdb&#39;</span>  <span class="p">:</span> <span class="s">&quot;Model&quot;</span><span class="p">,</span>
  <span class="s">&#39;hkl&#39;</span>  <span class="p">:</span> <span class="s">&quot;Reflections&quot;</span><span class="p">,</span>
  <span class="s">&#39;cif&#39;</span>  <span class="p">:</span> <span class="s">&quot;Restraints&quot;</span><span class="p">,</span>
  <span class="s">&#39;seq&#39;</span>  <span class="p">:</span> <span class="s">&quot;Sequence&quot;</span><span class="p">,</span>
  <span class="s">&#39;xplor_map&#39;</span>  <span class="p">:</span> <span class="s">&quot;XPLOR map&quot;</span><span class="p">,</span>
  <span class="s">&#39;ccp4_map&#39;</span> <span class="p">:</span> <span class="s">&quot;CCP4 map&quot;</span><span class="p">,</span>
  <span class="s">&#39;phil&#39;</span> <span class="p">:</span> <span class="s">&quot;Parameters&quot;</span><span class="p">,</span>
  <span class="s">&#39;xml&#39;</span>  <span class="p">:</span> <span class="s">&quot;XML&quot;</span><span class="p">,</span>
  <span class="s">&#39;pkl&#39;</span>  <span class="p">:</span> <span class="s">&quot;Python pickle&quot;</span><span class="p">,</span>
  <span class="s">&#39;txt&#39;</span>  <span class="p">:</span> <span class="s">&quot;Text&quot;</span><span class="p">,</span>
  <span class="s">&#39;mtz&#39;</span>  <span class="p">:</span> <span class="s">&quot;Reflections (MTZ)&quot;</span><span class="p">,</span>
  <span class="s">&#39;aln&#39;</span>  <span class="p">:</span> <span class="s">&quot;Sequence alignment&quot;</span><span class="p">,</span>
  <span class="s">&#39;hhr&#39;</span>  <span class="p">:</span> <span class="s">&quot;HHpred alignment&quot;</span><span class="p">,</span>
  <span class="s">&#39;img&#39;</span>  <span class="p">:</span> <span class="s">&quot;Detector image&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>However, in most cases only a subset of these will be tried automatically.</p>
<div class="section" id="module-iotbx.file_reader">
<span id="api-documentation"></span><h2>API documentation<a class="headerlink" href="#module-iotbx.file_reader" title="Permalink to this headline">Â¶</a></h2>
<dl class="exception">
<dt id="iotbx.file_reader.FormatError">
<em class="property">exception </em><tt class="descclassname">iotbx.file_reader.</tt><tt class="descname">FormatError</tt><a class="headerlink" href="#iotbx.file_reader.FormatError" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Sorry</span></tt></p>
</dd></dl>

<dl class="function">
<dt id="iotbx.file_reader.any_file">
<tt class="descclassname">iotbx.file_reader.</tt><tt class="descname">any_file</tt><big>(</big><em>file_name, get_processed_file=False, valid_types=['pdb', 'hkl', 'cif', 'pkl', 'ncs', 'seq', 'phil', 'aln', 'txt', 'xplor_map', 'ccp4_map'], allow_directories=False, force_type=None, input_class=None, raise_sorry_if_errors=False, raise_sorry_if_not_expected_format=False</em><big>)</big><a class="headerlink" href="#iotbx.file_reader.any_file" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Main input method, wrapper for any_file_input class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>file_name</strong> &#8211; path to file (relative or absolute)</li>
<li><strong>get_processed_file</strong> &#8211; TODO</li>
<li><strong>valid_types</strong> &#8211; file types to consider</li>
<li><strong>allow_directories</strong> &#8211; process directory if given as file_name</li>
<li><strong>force_type</strong> &#8211; read as this format, don&#8217;t try any others</li>
<li><strong>input_class</strong> &#8211; optional substitute for any_file_input, with additional
parsers</li>
<li><strong>raise_sorry_if_errors</strong> &#8211; raise a Sorry exception if parsing fails (used
with force_type)</li>
<li><strong>raise_sorry_if_not_expected_format</strong> &#8211; raise a Sorry exception if the
file extension does not match the parsed file type</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">any_file_input object, or an instance of the input_class param</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="iotbx.file_reader.any_file_fast">
<tt class="descclassname">iotbx.file_reader.</tt><tt class="descname">any_file_fast</tt><big>(</big><em>file_name, get_processed_file=False, valid_types=['pdb', 'hkl', 'cif', 'pkl', 'ncs', 'seq', 'phil', 'aln', 'txt', 'xplor_map', 'ccp4_map'], allow_directories=False, force_type=None, input_class=None</em><big>)</big><a class="headerlink" href="#iotbx.file_reader.any_file_fast" title="Permalink to this definition">Â¶</a></dt>
<dd><p>mimics any_file, but without parsing - will instead guess the file type from
the extension.  for most output files produced by cctbx/phenix this is
relatively safe; for files of unknown provenance it is less effective.</p>
</dd></dl>

<dl class="class">
<dt id="iotbx.file_reader.any_file_fast_input">
<em class="property">class </em><tt class="descclassname">iotbx.file_reader.</tt><tt class="descname">any_file_fast_input</tt><big>(</big><em>file_name</em>, <em>valid_types</em><big>)</big><a class="headerlink" href="#iotbx.file_reader.any_file_fast_input" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="iotbx.file_reader.any_file_input">
<em class="property">class </em><tt class="descclassname">iotbx.file_reader.</tt><tt class="descname">any_file_input</tt><big>(</big><em>file_name</em>, <em>get_processed_file</em>, <em>valid_types</em>, <em>force_type</em>, <em>raise_sorry_if_errors=False</em>, <em>raise_sorry_if_not_expected_format=False</em><big>)</big><a class="headerlink" href="#iotbx.file_reader.any_file_input" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p>Container for file data of any supported type.  Usually obtained via the
any_file() function rather than being instantiated directly.</p>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#iotbx.file_reader.any_file_input.file_content" title="iotbx.file_reader.any_file_input.file_content"><tt class="xref py py-obj docutils literal"><span class="pre">file_content</span></tt></a></td>
<td>Return the underlying format-specific object containing file data.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#iotbx.file_reader.any_file_input.file_name" title="iotbx.file_reader.any_file_input.file_name"><tt class="xref py py-obj docutils literal"><span class="pre">file_name</span></tt></a></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#iotbx.file_reader.any_file_input.file_object" title="iotbx.file_reader.any_file_input.file_object"><tt class="xref py py-obj docutils literal"><span class="pre">file_object</span></tt></a></td>
<td>Synonym for file_content()</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#iotbx.file_reader.any_file_input.file_server" title="iotbx.file_reader.any_file_input.file_server"><tt class="xref py py-obj docutils literal"><span class="pre">file_server</span></tt></a></td>
<td>For reflection files only, returns an <tt class="xref py py-class docutils literal"><span class="pre">iotbx.reflection_file_utils.reflection_file_server</span></tt> object containing the extracted Miller arrays.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#iotbx.file_reader.any_file_input.file_type" title="iotbx.file_reader.any_file_input.file_type"><tt class="xref py py-obj docutils literal"><span class="pre">file_type</span></tt></a></td>
<td>Return a string representing the generic data type, for example &#8216;pdb&#8217; or &#8216;hkl&#8217;.</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#iotbx.file_reader.any_file_input.assert_file_type" title="iotbx.file_reader.any_file_input.assert_file_type"><tt class="xref py py-obj docutils literal"><span class="pre">assert_file_type</span></tt></a>(expected_type)</td>
<td>Verify that the automatically determined file type is the expected format.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#iotbx.file_reader.any_file_input.check_file_type" title="iotbx.file_reader.any_file_input.check_file_type"><tt class="xref py py-obj docutils literal"><span class="pre">check_file_type</span></tt></a>([expected_type,&nbsp;...])</td>
<td>Verify that the automatically determined file type is the expected format, with the option to consider multiple formats.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#iotbx.file_reader.any_file_input.crystal_symmetry" title="iotbx.file_reader.any_file_input.crystal_symmetry"><tt class="xref py py-obj docutils literal"><span class="pre">crystal_symmetry</span></tt></a>()</td>
<td>Extract the crystal symmetry (if any).</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#iotbx.file_reader.any_file_input.file_info" title="iotbx.file_reader.any_file_input.file_info"><tt class="xref py py-obj docutils literal"><span class="pre">file_info</span></tt></a>([show_file_size])</td>
<td>Format a string containing the file type and size.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#iotbx.file_reader.any_file_input.set_file_type" title="iotbx.file_reader.any_file_input.set_file_type"><tt class="xref py py-obj docutils literal"><span class="pre">set_file_type</span></tt></a>(file_type)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#iotbx.file_reader.any_file_input.show_summary" title="iotbx.file_reader.any_file_input.show_summary"><tt class="xref py py-obj docutils literal"><span class="pre">show_summary</span></tt></a>([out])</td>
<td>Print out some basic information about the file.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#iotbx.file_reader.any_file_input.try_all_types" title="iotbx.file_reader.any_file_input.try_all_types"><tt class="xref py py-obj docutils literal"><span class="pre">try_all_types</span></tt></a>()</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="iotbx.file_reader.any_file_input.assert_file_type">
<tt class="descname">assert_file_type</tt><big>(</big><em>expected_type</em><big>)</big><a class="headerlink" href="#iotbx.file_reader.any_file_input.assert_file_type" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Verify that the automatically determined file type is the expected format.</p>
</dd></dl>

<dl class="method">
<dt id="iotbx.file_reader.any_file_input.check_file_type">
<tt class="descname">check_file_type</tt><big>(</big><em>expected_type=None</em>, <em>multiple_formats=()</em><big>)</big><a class="headerlink" href="#iotbx.file_reader.any_file_input.check_file_type" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Verify that the automatically determined file type is the expected format,
with the option to consider multiple formats.</p>
</dd></dl>

<dl class="method">
<dt id="iotbx.file_reader.any_file_input.crystal_symmetry">
<tt class="descname">crystal_symmetry</tt><big>(</big><big>)</big><a class="headerlink" href="#iotbx.file_reader.any_file_input.crystal_symmetry" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Extract the crystal symmetry (if any).  Only valid for model (PDB/mmCIF)
and reflection files.</p>
</dd></dl>

<dl class="attribute">
<dt id="iotbx.file_reader.any_file_input.file_content">
<tt class="descname">file_content</tt><a class="headerlink" href="#iotbx.file_reader.any_file_input.file_content" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the underlying format-specific object containing file data.</p>
</dd></dl>

<dl class="method">
<dt id="iotbx.file_reader.any_file_input.file_info">
<tt class="descname">file_info</tt><big>(</big><em>show_file_size=True</em><big>)</big><a class="headerlink" href="#iotbx.file_reader.any_file_input.file_info" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Format a string containing the file type and size.</p>
</dd></dl>

<dl class="attribute">
<dt id="iotbx.file_reader.any_file_input.file_name">
<tt class="descname">file_name</tt><a class="headerlink" href="#iotbx.file_reader.any_file_input.file_name" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="iotbx.file_reader.any_file_input.file_object">
<tt class="descname">file_object</tt><a class="headerlink" href="#iotbx.file_reader.any_file_input.file_object" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Synonym for file_content()</p>
</dd></dl>

<dl class="attribute">
<dt id="iotbx.file_reader.any_file_input.file_server">
<tt class="descname">file_server</tt><a class="headerlink" href="#iotbx.file_reader.any_file_input.file_server" title="Permalink to this definition">Â¶</a></dt>
<dd><p>For reflection files only, returns an
<tt class="xref py py-class docutils literal"><span class="pre">iotbx.reflection_file_utils.reflection_file_server</span></tt> object
containing the extracted Miller arrays.  Note that this will implicitly
merge any non-unique observations.</p>
</dd></dl>

<dl class="attribute">
<dt id="iotbx.file_reader.any_file_input.file_type">
<tt class="descname">file_type</tt><a class="headerlink" href="#iotbx.file_reader.any_file_input.file_type" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return a string representing the generic data type, for example &#8216;pdb&#8217; or
&#8216;hkl&#8217;.  Note that this is not necessarily the same as the underlying
format, for example &#8216;pdb&#8217; can mean either PDB or mmCIF format, and &#8216;hkl&#8217;
could mean MTZ, CIF, XDS, Scalepack, or SHELX format.</p>
</dd></dl>

<dl class="method">
<dt id="iotbx.file_reader.any_file_input.set_file_type">
<tt class="descname">set_file_type</tt><big>(</big><em>file_type</em><big>)</big><a class="headerlink" href="#iotbx.file_reader.any_file_input.set_file_type" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="iotbx.file_reader.any_file_input.show_summary">
<tt class="descname">show_summary</tt><big>(</big><em>out=&lt;open file '&lt;stdout&gt;'</em>, <em>mode 'w' at 0x7f6ab67d4150&gt;</em><big>)</big><a class="headerlink" href="#iotbx.file_reader.any_file_input.show_summary" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Print out some basic information about the file.</p>
</dd></dl>

<dl class="method">
<dt id="iotbx.file_reader.any_file_input.try_all_types">
<tt class="descname">try_all_types</tt><big>(</big><big>)</big><a class="headerlink" href="#iotbx.file_reader.any_file_input.try_all_types" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="iotbx.file_reader.directory_input">
<em class="property">class </em><tt class="descclassname">iotbx.file_reader.</tt><tt class="descname">directory_input</tt><big>(</big><em>dir_name</em><big>)</big><a class="headerlink" href="#iotbx.file_reader.directory_input" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#iotbx.file_reader.directory_input.file_info" title="iotbx.file_reader.directory_input.file_info"><tt class="xref py py-obj docutils literal"><span class="pre">file_info</span></tt></a>([show_file_size])</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="iotbx.file_reader.directory_input.file_info">
<tt class="descname">file_info</tt><big>(</big><em>show_file_size=False</em><big>)</big><a class="headerlink" href="#iotbx.file_reader.directory_input.file_info" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="iotbx.file_reader.find_closest_base_name">
<tt class="descclassname">iotbx.file_reader.</tt><tt class="descname">find_closest_base_name</tt><big>(</big><em>file_name</em>, <em>base_name</em>, <em>templates</em><big>)</big><a class="headerlink" href="#iotbx.file_reader.find_closest_base_name" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="iotbx.file_reader.get_wildcard_string">
<tt class="descclassname">iotbx.file_reader.</tt><tt class="descname">get_wildcard_string</tt><big>(</big><em>format</em><big>)</big><a class="headerlink" href="#iotbx.file_reader.get_wildcard_string" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="iotbx.file_reader.get_wildcard_strings">
<tt class="descclassname">iotbx.file_reader.</tt><tt class="descname">get_wildcard_strings</tt><big>(</big><em>formats</em>, <em>include_any=True</em><big>)</big><a class="headerlink" href="#iotbx.file_reader.get_wildcard_strings" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="iotbx.file_reader.group_files">
<em class="property">class </em><tt class="descclassname">iotbx.file_reader.</tt><tt class="descname">group_files</tt><big>(</big><em>file_names</em>, <em>template_format='pdb'</em>, <em>group_by_directory=True</em><big>)</big><a class="headerlink" href="#iotbx.file_reader.group_files" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="iotbx.file_reader.guess_file_type">
<tt class="descclassname">iotbx.file_reader.</tt><tt class="descname">guess_file_type</tt><big>(</big><em>file_name, extensions={'xml': ['xml'], 'map': ['xplor', 'map', 'ccp4'], 'ncs': ['ncs', 'ncs_spec'], 'cif': ['cif', 'mmcif'], 'seq': ['fa', 'faa', 'seq', 'pir', 'dat', 'fasta'], 'hhr': ['hhr'], 'phil': ['params', 'eff', 'def', 'phil', 'param'], 'smi': ['smi'], 'ccp4_map': ['ccp4', 'map', 'mrc'], 'mtz': ['mtz'], 'img': ['img', 'osc', 'mccd', 'cbf'], 'sdf': ['sdf'], 'rosetta': ['gz'], 'hkl': ['mtz', 'hkl', 'sca', 'cns', 'xplor', 'cv', 'ref', 'fobs'], 'aln': ['aln', 'ali', 'clustal'], 'txt': ['txt', 'log', 'html', 'geo'], 'pdb': ['pdb', 'ent'], 'pkl': ['pickle', 'pkl'], 'xplor_map': ['xplor', 'map']}</em><big>)</big><a class="headerlink" href="#iotbx.file_reader.guess_file_type" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="iotbx.file_reader.sort_by_file_type">
<tt class="descclassname">iotbx.file_reader.</tt><tt class="descname">sort_by_file_type</tt><big>(</big><em>file_names</em>, <em>sort_order=None</em><big>)</big><a class="headerlink" href="#iotbx.file_reader.sort_by_file_type" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="iotbx.file_reader.splitext">
<tt class="descclassname">iotbx.file_reader.</tt><tt class="descname">splitext</tt><big>(</big><em>file_name</em><big>)</big><a class="headerlink" href="#iotbx.file_reader.splitext" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="iotbx.file_reader.strip_shelx_format_extension">
<tt class="descclassname">iotbx.file_reader.</tt><tt class="descname">strip_shelx_format_extension</tt><big>(</big><em>file_name</em><big>)</big><a class="headerlink" href="#iotbx.file_reader.strip_shelx_format_extension" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">iotbx.file_reader - generic file input</a><ul>
<li><a class="reference internal" href="#module-iotbx.file_reader">API documentation</a><ul>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">iotbx - file readers and writers</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/iotbx/iotbx.file_reader.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="iotbx - file readers and writers"
             >previous</a> |</li>
        <li><a href="../index.html">CCTBX None documentation</a> &raquo;</li>
          <li><a href="index.html" >iotbx - file readers and writers</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, University of California.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>