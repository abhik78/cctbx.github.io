<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>mmtbx.utils package &mdash; CCTBX None documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'None',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="CCTBX None documentation" href="../index.html" />
    <link rel="up" title="mmtbx - macromolecular crystallography" href="mmtbx.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">CCTBX None documentation</a> &raquo;</li>
          <li><a href="mmtbx.html" accesskey="U">mmtbx - macromolecular crystallography</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="mmtbx-utils-package">
<h1>mmtbx.utils package<a class="headerlink" href="#mmtbx-utils-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-mmtbx.utils">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-mmtbx.utils" title="Permalink to this headline">¶</a></h2>
<p>Library of convenience functions for working with models and reflection data.
This contains a number of routines used in phenix.refine and related programs,
mainly concerned with the repetitive process of loading model and data files
and initializing the appropriate objects.  Note that if you are writing a
program that uses similar inputs, it may be significantly easier to use the
unified input handling encapsulated in <a class="reference internal" href="mmtbx.command_line.html#module-mmtbx.command_line" title="mmtbx.command_line"><tt class="xref py py-mod docutils literal"><span class="pre">mmtbx.command_line</span></tt></a>, which
wraps much of the functionality in <a class="reference internal" href="#module-mmtbx.utils" title="mmtbx.utils"><tt class="xref py py-mod docutils literal"><span class="pre">mmtbx.utils</span></tt></a> while hiding the
messy details.</p>
<dl class="function">
<dt id="mmtbx.utils.assert_model_is_consistent">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">assert_model_is_consistent</tt><big>(</big><em>model</em><big>)</big><a class="headerlink" href="#mmtbx.utils.assert_model_is_consistent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.assert_water_is_consistent">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">assert_water_is_consistent</tt><big>(</big><em>model</em><big>)</big><a class="headerlink" href="#mmtbx.utils.assert_water_is_consistent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.assert_xray_structures_equal">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">assert_xray_structures_equal</tt><big>(</big><em>x1</em>, <em>x2</em>, <em>selection=None</em>, <em>sites=True</em>, <em>adp=True</em>, <em>occupancies=True</em>, <em>elements=True</em>, <em>scattering_types=True</em>, <em>eps=1e-06</em><big>)</big><a class="headerlink" href="#mmtbx.utils.assert_xray_structures_equal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.assign_chain_ids">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">assign_chain_ids</tt><big>(</big><em>pdb_hierarchy</em>, <em>seg_dict</em><big>)</big><a class="headerlink" href="#mmtbx.utils.assign_chain_ids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.atom_selection">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">atom_selection</tt><big>(</big><em>all_chain_proxies</em>, <em>string</em>, <em>allow_empty_selection=False</em><big>)</big><a class="headerlink" href="#mmtbx.utils.atom_selection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.check_for_duplicate_chain_ids">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">check_for_duplicate_chain_ids</tt><big>(</big><em>pdb_hierarchy</em><big>)</big><a class="headerlink" href="#mmtbx.utils.check_for_duplicate_chain_ids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.combine_hd_exchangable">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">combine_hd_exchangable</tt><big>(</big><em>hierarchy</em><big>)</big><a class="headerlink" href="#mmtbx.utils.combine_hd_exchangable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.compare_hierarchy">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">compare_hierarchy</tt><big>(</big><em>hierarchy</em>, <em>scatterers</em>, <em>cell</em><big>)</big><a class="headerlink" href="#mmtbx.utils.compare_hierarchy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.data_and_flags_master_params">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">data_and_flags_master_params</tt><big>(</big><em>master_scope_name=None</em><big>)</big><a class="headerlink" href="#mmtbx.utils.data_and_flags_master_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mmtbx.utils.detect_hydrogen_nomenclature_problem">
<em class="property">class </em><tt class="descclassname">mmtbx.utils.</tt><tt class="descname">detect_hydrogen_nomenclature_problem</tt><big>(</big><em>pdb_file</em>, <em>cif_files=()</em><big>)</big><a class="headerlink" href="#mmtbx.utils.detect_hydrogen_nomenclature_problem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p>This allows us to avoid the following problems:
1) a bug in automatic linking which deletes the monomer library definition</p>
<blockquote>
<div>for HD22 for an N-linked Asn, even though it may not actually be replaced
by a sugar link.</div></blockquote>
<ol class="arabic simple" start="2">
<li>general issues with hydrogen nomenclature</li>
</ol>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="87%" />
<col width="13%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>bad_hydrogens: a list of problematic atom ID strings</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>n_asn_hd22: number of inappropriate ASN HD22 atoms</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>n_hydrogen: number of hydrogens missing geometry restraints</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>n_other: number of non-hydrogen atoms missing geometry restraints</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="mmtbx.utils.determine_data_and_flags">
<em class="property">class </em><tt class="descclassname">mmtbx.utils.</tt><tt class="descname">determine_data_and_flags</tt><big>(</big><em>reflection_file_server</em>, <em>parameters=None</em>, <em>data_parameter_scope=''</em>, <em>flags_parameter_scope=''</em>, <em>data_description=None</em>, <em>working_point_group=None</em>, <em>symmetry_safety_check=None</em>, <em>remark_r_free_flags_md5_hexdigest=None</em>, <em>extract_r_free_flags=True</em>, <em>keep_going=False</em>, <em>log=None</em>, <em>prefer_anomalous=None</em>, <em>force_non_anomalous=False</em><big>)</big><a class="headerlink" href="#mmtbx.utils.determine_data_and_flags" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p>Encapsulates logic for extracting experimental amplitudes and R-free flags
from the given input file(s).  This expects that the standard parameter block
is being used.  Determination of appropriate data labels will be as automatic
as possible, or will give clear feedback when ambiguity exists.  If not
found in the inputs, the R-free flags can be created if desired.</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.determine_data_and_flags.data_as_f_obs" title="mmtbx.utils.determine_data_and_flags.data_as_f_obs"><tt class="xref py py-obj docutils literal"><span class="pre">data_as_f_obs</span></tt></a>(f_obs)</td>
<td>Convert input data array to amplitudes, adjusting the data type and applying additional filters if necessary.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mmtbx.utils.determine_data_and_flags.extract_data" title="mmtbx.utils.determine_data_and_flags.extract_data"><tt class="xref py py-obj docutils literal"><span class="pre">extract_data</span></tt></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.determine_data_and_flags.extract_flags" title="mmtbx.utils.determine_data_and_flags.extract_flags"><tt class="xref py py-obj docutils literal"><span class="pre">extract_flags</span></tt></a>(data[,&nbsp;data_description])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mmtbx.utils.determine_data_and_flags.flags_as_r_free_flags" title="mmtbx.utils.determine_data_and_flags.flags_as_r_free_flags"><tt class="xref py py-obj docutils literal"><span class="pre">flags_as_r_free_flags</span></tt></a>(f_obs,&nbsp;r_free_flags[,&nbsp;...])</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.determine_data_and_flags.get_r_free_flags" title="mmtbx.utils.determine_data_and_flags.get_r_free_flags"><tt class="xref py py-obj docutils literal"><span class="pre">get_r_free_flags</span></tt></a>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mmtbx.utils.determine_data_and_flags.verify_r_free_flags_md5_hexdigest" title="mmtbx.utils.determine_data_and_flags.verify_r_free_flags_md5_hexdigest"><tt class="xref py py-obj docutils literal"><span class="pre">verify_r_free_flags_md5_hexdigest</span></tt></a>(...)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mmtbx.utils.determine_data_and_flags.data_as_f_obs">
<tt class="descname">data_as_f_obs</tt><big>(</big><em>f_obs</em><big>)</big><a class="headerlink" href="#mmtbx.utils.determine_data_and_flags.data_as_f_obs" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert input data array to amplitudes, adjusting the data type and
applying additional filters if necessary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f_obs</strong> &#8211; selected input data</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference internal" href="../cctbx/cctbx.miller.html#cctbx.miller.array" title="cctbx.miller.array"><tt class="xref py py-class docutils literal"><span class="pre">cctbx.miller.array</span></tt></a> of real numbers with observation
type set to amplitudes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mmtbx.utils.determine_data_and_flags.extract_data">
<tt class="descname">extract_data</tt><big>(</big><big>)</big><a class="headerlink" href="#mmtbx.utils.determine_data_and_flags.extract_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.determine_data_and_flags.extract_flags">
<tt class="descname">extract_flags</tt><big>(</big><em>data</em>, <em>data_description='R-free flags'</em><big>)</big><a class="headerlink" href="#mmtbx.utils.determine_data_and_flags.extract_flags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.determine_data_and_flags.flags_as_r_free_flags">
<tt class="descname">flags_as_r_free_flags</tt><big>(</big><em>f_obs</em>, <em>r_free_flags</em>, <em>missing_show_max_lines=10</em><big>)</big><a class="headerlink" href="#mmtbx.utils.determine_data_and_flags.flags_as_r_free_flags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.determine_data_and_flags.get_r_free_flags">
<tt class="descname">get_r_free_flags</tt><big>(</big><big>)</big><a class="headerlink" href="#mmtbx.utils.determine_data_and_flags.get_r_free_flags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.determine_data_and_flags.verify_r_free_flags_md5_hexdigest">
<tt class="descname">verify_r_free_flags_md5_hexdigest</tt><big>(</big><em>ignore_pdb_hexdigest</em>, <em>current</em>, <em>records</em><big>)</big><a class="headerlink" href="#mmtbx.utils.determine_data_and_flags.verify_r_free_flags_md5_hexdigest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="mmtbx.utils.determine_experimental_phases">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">determine_experimental_phases</tt><big>(</big><em>reflection_file_server</em>, <em>parameters</em>, <em>log</em>, <em>parameter_scope</em>, <em>working_point_group</em>, <em>symmetry_safety_check</em>, <em>ignore_all_zeros=True</em><big>)</big><a class="headerlink" href="#mmtbx.utils.determine_experimental_phases" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract experimental phases from the given inputs if possible.  Returns None
if not found.</p>
</dd></dl>

<dl class="function">
<dt id="mmtbx.utils.equivalent_sigma_from_cumulative_histogram_match">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">equivalent_sigma_from_cumulative_histogram_match</tt><big>(</big><em>map_1</em>, <em>map_2</em>, <em>sigma_1</em>, <em>tail_cutoff=3</em>, <em>step=1</em>, <em>verbose=True</em><big>)</big><a class="headerlink" href="#mmtbx.utils.equivalent_sigma_from_cumulative_histogram_match" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mmtbx.utils.experimental_data_target_and_gradients">
<em class="property">class </em><tt class="descclassname">mmtbx.utils.</tt><tt class="descname">experimental_data_target_and_gradients</tt><big>(</big><em>fmodel</em>, <em>alpha_beta=None</em><big>)</big><a class="headerlink" href="#mmtbx.utils.experimental_data_target_and_gradients" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.experimental_data_target_and_gradients.grad_occ" title="mmtbx.utils.experimental_data_target_and_gradients.grad_occ"><tt class="xref py py-obj docutils literal"><span class="pre">grad_occ</span></tt></a>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mmtbx.utils.experimental_data_target_and_gradients.grad_sites_cart" title="mmtbx.utils.experimental_data_target_and_gradients.grad_sites_cart"><tt class="xref py py-obj docutils literal"><span class="pre">grad_sites_cart</span></tt></a>()</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.experimental_data_target_and_gradients.group_occupancy_grads" title="mmtbx.utils.experimental_data_target_and_gradients.group_occupancy_grads"><tt class="xref py py-obj docutils literal"><span class="pre">group_occupancy_grads</span></tt></a>([pdb_hierarchy,&nbsp;...])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mmtbx.utils.experimental_data_target_and_gradients.show" title="mmtbx.utils.experimental_data_target_and_gradients.show"><tt class="xref py py-obj docutils literal"><span class="pre">show</span></tt></a>([log])</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.experimental_data_target_and_gradients.target" title="mmtbx.utils.experimental_data_target_and_gradients.target"><tt class="xref py py-obj docutils literal"><span class="pre">target</span></tt></a>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mmtbx.utils.experimental_data_target_and_gradients.update_xray_structure" title="mmtbx.utils.experimental_data_target_and_gradients.update_xray_structure"><tt class="xref py py-obj docutils literal"><span class="pre">update_xray_structure</span></tt></a>(xray_structure[,&nbsp;...])</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mmtbx.utils.experimental_data_target_and_gradients.grad_occ">
<tt class="descname">grad_occ</tt><big>(</big><big>)</big><a class="headerlink" href="#mmtbx.utils.experimental_data_target_and_gradients.grad_occ" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.experimental_data_target_and_gradients.grad_sites_cart">
<tt class="descname">grad_sites_cart</tt><big>(</big><big>)</big><a class="headerlink" href="#mmtbx.utils.experimental_data_target_and_gradients.grad_sites_cart" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.experimental_data_target_and_gradients.group_occupancy_grads">
<tt class="descname">group_occupancy_grads</tt><big>(</big><em>pdb_hierarchy=None</em>, <em>residues_per_window=None</em>, <em>selections=None</em><big>)</big><a class="headerlink" href="#mmtbx.utils.experimental_data_target_and_gradients.group_occupancy_grads" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.experimental_data_target_and_gradients.show">
<tt class="descname">show</tt><big>(</big><em>log=None</em><big>)</big><a class="headerlink" href="#mmtbx.utils.experimental_data_target_and_gradients.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.experimental_data_target_and_gradients.target">
<tt class="descname">target</tt><big>(</big><big>)</big><a class="headerlink" href="#mmtbx.utils.experimental_data_target_and_gradients.target" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.experimental_data_target_and_gradients.update_xray_structure">
<tt class="descname">update_xray_structure</tt><big>(</big><em>xray_structure</em>, <em>alpha_beta=None</em><big>)</big><a class="headerlink" href="#mmtbx.utils.experimental_data_target_and_gradients.update_xray_structure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="mmtbx.utils.explain_how_to_generate_array_of_r_free_flags">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">explain_how_to_generate_array_of_r_free_flags</tt><big>(</big><em>log</em>, <em>flags_parameter_scope</em><big>)</big><a class="headerlink" href="#mmtbx.utils.explain_how_to_generate_array_of_r_free_flags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mmtbx.utils.extract_box_around_model_and_map">
<em class="property">class </em><tt class="descclassname">mmtbx.utils.</tt><tt class="descname">extract_box_around_model_and_map</tt><big>(</big><em>xray_structure</em>, <em>map_data</em>, <em>box_cushion</em>, <em>pdb_hierarchy=None</em>, <em>selection_radius=None</em>, <em>selection_string=None</em>, <em>selection=None</em>, <em>map_data_2=None</em>, <em>assert_pdb_hierarchy_and_xray_structure_equal=True</em><big>)</big><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.extract_box_around_model_and_map.box_map_coefficients" title="mmtbx.utils.extract_box_around_model_and_map.box_map_coefficients"><tt class="xref py py-obj docutils literal"><span class="pre">box_map_coefficients</span></tt></a>(d_min,&nbsp;resolution_factor)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mmtbx.utils.extract_box_around_model_and_map.box_map_coefficients_as_fft_map" title="mmtbx.utils.extract_box_around_model_and_map.box_map_coefficients_as_fft_map"><tt class="xref py py-obj docutils literal"><span class="pre">box_map_coefficients_as_fft_map</span></tt></a>(d_min,&nbsp;...)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.extract_box_around_model_and_map.map_coefficients" title="mmtbx.utils.extract_box_around_model_and_map.map_coefficients"><tt class="xref py py-obj docutils literal"><span class="pre">map_coefficients</span></tt></a>(d_min,&nbsp;resolution_factor[,&nbsp;...])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mmtbx.utils.extract_box_around_model_and_map.write_ccp4_map" title="mmtbx.utils.extract_box_around_model_and_map.write_ccp4_map"><tt class="xref py py-obj docutils literal"><span class="pre">write_ccp4_map</span></tt></a>([file_name])</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.extract_box_around_model_and_map.write_pdb_file" title="mmtbx.utils.extract_box_around_model_and_map.write_pdb_file"><tt class="xref py py-obj docutils literal"><span class="pre">write_pdb_file</span></tt></a>(file_name)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mmtbx.utils.extract_box_around_model_and_map.write_xplor_map" title="mmtbx.utils.extract_box_around_model_and_map.write_xplor_map"><tt class="xref py py-obj docutils literal"><span class="pre">write_xplor_map</span></tt></a>([file_name])</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.box_map_coefficients">
<tt class="descname">box_map_coefficients</tt><big>(</big><em>d_min</em>, <em>resolution_factor</em><big>)</big><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.box_map_coefficients" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.box_map_coefficients_as_fft_map">
<tt class="descname">box_map_coefficients_as_fft_map</tt><big>(</big><em>d_min</em>, <em>resolution_factor</em><big>)</big><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.box_map_coefficients_as_fft_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.map_coefficients">
<tt class="descname">map_coefficients</tt><big>(</big><em>d_min</em>, <em>resolution_factor</em>, <em>file_name='box.mtz'</em><big>)</big><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.map_coefficients" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.write_ccp4_map">
<tt class="descname">write_ccp4_map</tt><big>(</big><em>file_name='box.ccp4'</em><big>)</big><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.write_ccp4_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.write_pdb_file">
<tt class="descname">write_pdb_file</tt><big>(</big><em>file_name</em><big>)</big><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.write_pdb_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.extract_box_around_model_and_map.write_xplor_map">
<tt class="descname">write_xplor_map</tt><big>(</big><em>file_name='box.xplor'</em><big>)</big><a class="headerlink" href="#mmtbx.utils.extract_box_around_model_and_map.write_xplor_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="mmtbx.utils.extract_tls_and_u_total_from_pdb">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">extract_tls_and_u_total_from_pdb</tt><big>(</big><em>f_obs</em>, <em>r_free_flags</em>, <em>xray_structure</em>, <em>tls_selections</em>, <em>tls_groups</em><big>)</big><a class="headerlink" href="#mmtbx.utils.extract_tls_and_u_total_from_pdb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mmtbx.utils.f_000">
<em class="property">class </em><tt class="descclassname">mmtbx.utils.</tt><tt class="descname">f_000</tt><big>(</big><em>xray_structure=None</em>, <em>unit_cell_volume=None</em>, <em>solvent_fraction=None</em>, <em>mean_solvent_density=0.35</em><big>)</big><a class="headerlink" href="#mmtbx.utils.f_000" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="mmtbx.utils.find_bare_chains_with_segids">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">find_bare_chains_with_segids</tt><big>(</big><em>pdb_hierarchy</em><big>)</big><a class="headerlink" href="#mmtbx.utils.find_bare_chains_with_segids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.find_overlapping_selections">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">find_overlapping_selections</tt><big>(</big><em>selections</em>, <em>selection_strings</em><big>)</big><a class="headerlink" href="#mmtbx.utils.find_overlapping_selections" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of atom selections (<a class="reference internal" href="../scitbx/scitbx.array_family.html#scitbx.array_family.flex.bool" title="scitbx.array_family.flex.bool"><tt class="xref py py-class docutils literal"><span class="pre">scitbx.array_family.flex.bool</span></tt></a>
arrays) and corresponding selection strings, inspect the selections to
determine whether any two arrays overlap.  Returns a tuple of the first pair
of selection strings found to overlap, or None if all selections are unique.</p>
</dd></dl>

<dl class="class">
<dt id="mmtbx.utils.fmodel_from_xray_structure">
<em class="property">class </em><tt class="descclassname">mmtbx.utils.</tt><tt class="descname">fmodel_from_xray_structure</tt><big>(</big><em>xray_structure</em>, <em>f_obs=None</em>, <em>params=None</em>, <em>r_free_flags_fraction=None</em>, <em>add_sigmas=False</em>, <em>twin_law=None</em>, <em>twin_fraction=None</em>, <em>target='ml'</em>, <em>out=None</em>, <em>merge_r_free_flags=None</em><big>)</big><a class="headerlink" href="#mmtbx.utils.fmodel_from_xray_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.fmodel_from_xray_structure.Sorry_high_resolution_is_not_defined" title="mmtbx.utils.fmodel_from_xray_structure.Sorry_high_resolution_is_not_defined"><tt class="xref py py-obj docutils literal"><span class="pre">Sorry_high_resolution_is_not_defined</span></tt></a>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mmtbx.utils.fmodel_from_xray_structure.write_to_file" title="mmtbx.utils.fmodel_from_xray_structure.write_to_file"><tt class="xref py py-obj docutils literal"><span class="pre">write_to_file</span></tt></a>(file_name[,&nbsp;obs_type])</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mmtbx.utils.fmodel_from_xray_structure.Sorry_high_resolution_is_not_defined">
<tt class="descname">Sorry_high_resolution_is_not_defined</tt><big>(</big><big>)</big><a class="headerlink" href="#mmtbx.utils.fmodel_from_xray_structure.Sorry_high_resolution_is_not_defined" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.fmodel_from_xray_structure.write_to_file">
<tt class="descname">write_to_file</tt><big>(</big><em>file_name</em>, <em>obs_type='amplitudes'</em><big>)</big><a class="headerlink" href="#mmtbx.utils.fmodel_from_xray_structure.write_to_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="mmtbx.utils.fmodel_manager">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">fmodel_manager</tt><big>(</big><em>f_obs</em>, <em>xray_structure=None</em>, <em>r_free_flags=None</em>, <em>f_mask=None</em>, <em>f_calc=None</em>, <em>ignore_r_free_flags=False</em>, <em>target_name='ml'</em>, <em>k_mask=None</em>, <em>k_anisotropic=None</em>, <em>hl_coeff=None</em>, <em>epsilons=None</em>, <em>use_f_model_scaled=False</em>, <em>twin_law=None</em>, <em>detwin_mode=None</em>, <em>detwin_map_types=None</em>, <em>alpha_beta_params=None</em>, <em>sf_and_grads_accuracy_params=&lt;libtbx.phil.scope_extract object at 0x7ff978ca0490&gt;</em>, <em>mask_params=None</em>, <em>max_number_of_resolution_bins=None</em>, <em>n_resolution_bins_output=None</em><big>)</big><a class="headerlink" href="#mmtbx.utils.fmodel_manager" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.fmodel_simple">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">fmodel_simple</tt><big>(</big><em>f_obs</em>, <em>xray_structures</em>, <em>scattering_table</em>, <em>r_free_flags=None</em>, <em>target_name='ml'</em>, <em>bulk_solvent_and_scaling=True</em>, <em>bss_params=None</em>, <em>mask_params=None</em>, <em>twin_laws=None</em>, <em>skip_twin_detection=False</em>, <em>twin_switch_tolerance=2.0</em>, <em>outliers_rejection=True</em>, <em>bulk_solvent_correction=True</em>, <em>anisotropic_scaling=True</em>, <em>log=None</em><big>)</big><a class="headerlink" href="#mmtbx.utils.fmodel_simple" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.force_unique_chain_ids">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">force_unique_chain_ids</tt><big>(</big><em>pdb_hierarchy</em><big>)</big><a class="headerlink" href="#mmtbx.utils.force_unique_chain_ids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.generate_two_character_ids">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">generate_two_character_ids</tt><big>(</big><big>)</big><a class="headerlink" href="#mmtbx.utils.generate_two_character_ids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.get_atom_selection">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">get_atom_selection</tt><big>(</big><em>pdb_file_name</em>, <em>selection_string</em>, <em>iselection=False</em><big>)</big><a class="headerlink" href="#mmtbx.utils.get_atom_selection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.get_atom_selections">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">get_atom_selections</tt><big>(</big><em>all_chain_proxies</em>, <em>xray_structure</em>, <em>selection_strings=None</em>, <em>iselection=True</em>, <em>one_group_per_residue=False</em>, <em>allow_empty_selection=False</em>, <em>hydrogens_only=False</em>, <em>one_selection_array=False</em>, <em>parameter_name=None</em><big>)</big><a class="headerlink" href="#mmtbx.utils.get_atom_selections" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mmtbx.utils.guess_observation_type">
<em class="property">class </em><tt class="descclassname">mmtbx.utils.</tt><tt class="descname">guess_observation_type</tt><big>(</big><em>f_obs</em>, <em>label</em>, <em>xray_structure</em>, <em>r_free_flags=None</em><big>)</big><a class="headerlink" href="#mmtbx.utils.guess_observation_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.guess_observation_type.find_best" title="mmtbx.utils.guess_observation_type.find_best"><tt class="xref py py-obj docutils literal"><span class="pre">find_best</span></tt></a>(results)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mmtbx.utils.guess_observation_type.get_r_factor" title="mmtbx.utils.guess_observation_type.get_r_factor"><tt class="xref py py-obj docutils literal"><span class="pre">get_r_factor</span></tt></a>(f_obs,&nbsp;f_calc,&nbsp;...)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.guess_observation_type.mtz_object" title="mmtbx.utils.guess_observation_type.mtz_object"><tt class="xref py py-obj docutils literal"><span class="pre">mtz_object</span></tt></a>()</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="mmtbx.utils.guess_observation_type.data_size">
<tt class="descname">data_size</tt><em class="property"> = 500</em><a class="headerlink" href="#mmtbx.utils.guess_observation_type.data_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.guess_observation_type.find_best">
<tt class="descname">find_best</tt><big>(</big><em>results</em><big>)</big><a class="headerlink" href="#mmtbx.utils.guess_observation_type.find_best" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.guess_observation_type.get_r_factor">
<tt class="descname">get_r_factor</tt><big>(</big><em>f_obs</em>, <em>f_calc</em>, <em>scattering_table</em>, <em>xray_structure</em>, <em>twin_switch_tolerance</em>, <em>skip_twin_detection</em><big>)</big><a class="headerlink" href="#mmtbx.utils.guess_observation_type.get_r_factor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.guess_observation_type.mtz_object">
<tt class="descname">mtz_object</tt><big>(</big><big>)</big><a class="headerlink" href="#mmtbx.utils.guess_observation_type.mtz_object" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="mmtbx.utils.miller_array_symmetry_safety_check">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">miller_array_symmetry_safety_check</tt><big>(</big><em>miller_array</em>, <em>data_description</em>, <em>working_point_group</em>, <em>symmetry_safety_check</em>, <em>log</em><big>)</big><a class="headerlink" href="#mmtbx.utils.miller_array_symmetry_safety_check" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.model_simple">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">model_simple</tt><big>(</big><em>pdb_file_names</em>, <em>log=None</em>, <em>normalization=True</em>, <em>cif_objects=</em>, <span class="optional">[</span><span class="optional">]</span><em>crystal_symmetry=None</em>, <em>plain_pairs_radius=5</em>, <em>refinement_flags=None</em>, <em>scattering_table=None</em>, <em>d_min=None</em><big>)</big><a class="headerlink" href="#mmtbx.utils.model_simple" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.optimize_h">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">optimize_h</tt><big>(</big><em>fmodel</em>, <em>mon_lib_srv</em>, <em>pdb_hierarchy=None</em>, <em>model=None</em>, <em>log=None</em>, <em>verbose=True</em><big>)</big><a class="headerlink" href="#mmtbx.utils.optimize_h" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mmtbx.utils.pdb_file">
<em class="property">class </em><tt class="descclassname">mmtbx.utils.</tt><tt class="descname">pdb_file</tt><big>(</big><em>pdb_file_names</em>, <em>crystal_symmetry=None</em>, <em>cif_objects=</em>, <span class="optional">[</span><span class="optional">]</span><em>log=None</em>, <em>ignore_unknown_nonbonded_energy_types=False</em>, <em>use_neutron_distances=False</em><big>)</big><a class="headerlink" href="#mmtbx.utils.pdb_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.pdb_file.set_ppf" title="mmtbx.utils.pdb_file.set_ppf"><tt class="xref py py-obj docutils literal"><span class="pre">set_ppf</span></tt></a>([stop_if_duplicate_labels,&nbsp;log])</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mmtbx.utils.pdb_file.set_ppf">
<tt class="descname">set_ppf</tt><big>(</big><em>stop_if_duplicate_labels=True</em>, <em>log=None</em><big>)</big><a class="headerlink" href="#mmtbx.utils.pdb_file.set_ppf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="mmtbx.utils.print_header">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">print_header</tt><big>(</big><em>line</em>, <em>out=None</em><big>)</big><a class="headerlink" href="#mmtbx.utils.print_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.print_programs_start_header">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">print_programs_start_header</tt><big>(</big><em>log</em>, <em>text</em><big>)</big><a class="headerlink" href="#mmtbx.utils.print_programs_start_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mmtbx.utils.process_command_line_args">
<em class="property">class </em><tt class="descclassname">mmtbx.utils.</tt><tt class="descname">process_command_line_args</tt><big>(</big><em>args</em>, <em>cmd_cs=None</em>, <em>master_params=None</em>, <em>log=None</em>, <em>home_scope=None</em>, <em>suppress_symmetry_related_errors=False</em><big>)</big><a class="headerlink" href="#mmtbx.utils.process_command_line_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.process_command_line_args.get_reflection_file_server" title="mmtbx.utils.process_command_line_args.get_reflection_file_server"><tt class="xref py py-obj docutils literal"><span class="pre">get_reflection_file_server</span></tt></a>()</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mmtbx.utils.process_command_line_args.get_reflection_file_server">
<tt class="descname">get_reflection_file_server</tt><big>(</big><big>)</big><a class="headerlink" href="#mmtbx.utils.process_command_line_args.get_reflection_file_server" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="mmtbx.utils.process_pdb_file_srv">
<em class="property">class </em><tt class="descclassname">mmtbx.utils.</tt><tt class="descname">process_pdb_file_srv</tt><big>(</big><em>crystal_symmetry=None</em>, <em>pdb_parameters=None</em>, <em>pdb_interpretation_params=None</em>, <em>stop_for_unknowns=None</em>, <em>log=None</em>, <em>cif_objects=None</em>, <em>cif_parameters=None</em>, <em>mon_lib_srv=None</em>, <em>ener_lib=None</em>, <em>use_neutron_distances=False</em><big>)</big><a class="headerlink" href="#mmtbx.utils.process_pdb_file_srv" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.process_pdb_file_srv.process_pdb_files" title="mmtbx.utils.process_pdb_file_srv.process_pdb_files"><tt class="xref py py-obj docutils literal"><span class="pre">process_pdb_files</span></tt></a>([pdb_file_names,&nbsp;...])</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mmtbx.utils.process_pdb_file_srv.process_pdb_files">
<tt class="descname">process_pdb_files</tt><big>(</big><em>pdb_file_names=None</em>, <em>raw_records=None</em>, <em>stop_if_duplicate_labels=True</em>, <em>allow_missing_symmetry=False</em><big>)</big><a class="headerlink" href="#mmtbx.utils.process_pdb_file_srv.process_pdb_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="mmtbx.utils.remove_selections">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">remove_selections</tt><big>(</big><em>selection</em>, <em>other</em>, <em>size</em><big>)</big><a class="headerlink" href="#mmtbx.utils.remove_selections" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.rms_b_iso_or_b_equiv_bonded">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">rms_b_iso_or_b_equiv_bonded</tt><big>(</big><em>restraints_manager</em>, <em>xray_structure</em>, <em>ias_selection=None</em><big>)</big><a class="headerlink" href="#mmtbx.utils.rms_b_iso_or_b_equiv_bonded" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.seg_id_to_chain_id">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">seg_id_to_chain_id</tt><big>(</big><em>pdb_hierarchy</em><big>)</big><a class="headerlink" href="#mmtbx.utils.seg_id_to_chain_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.set_log">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">set_log</tt><big>(</big><em>args</em>, <em>out=&lt;open file '&lt;stdout&gt;'</em>, <em>mode 'w' at 0x7ff99f1ca150&gt;</em>, <em>replace_stderr=True</em><big>)</big><a class="headerlink" href="#mmtbx.utils.set_log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mmtbx.utils.set_map_to_value">
<em class="property">class </em><tt class="descclassname">mmtbx.utils.</tt><tt class="descname">set_map_to_value</tt><big>(</big><em>map_data</em>, <em>xray_structure</em>, <em>atom_radius</em>, <em>value</em><big>)</big><a class="headerlink" href="#mmtbx.utils.set_map_to_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.set_map_to_value.write_xplor_map" title="mmtbx.utils.set_map_to_value.write_xplor_map"><tt class="xref py py-obj docutils literal"><span class="pre">write_xplor_map</span></tt></a>(file_name)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mmtbx.utils.set_map_to_value.write_xplor_map">
<tt class="descname">write_xplor_map</tt><big>(</big><em>file_name</em><big>)</big><a class="headerlink" href="#mmtbx.utils.set_map_to_value.write_xplor_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="mmtbx.utils.setup_scattering_dictionaries">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">setup_scattering_dictionaries</tt><big>(</big><em>scattering_table</em>, <em>xray_structure</em>, <em>d_min</em>, <em>log=None</em>, <em>all_chain_proxies=None</em><big>)</big><a class="headerlink" href="#mmtbx.utils.setup_scattering_dictionaries" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="mmtbx.utils.shift_origin">
<em class="property">class </em><tt class="descclassname">mmtbx.utils.</tt><tt class="descname">shift_origin</tt><big>(</big><em>map_data</em>, <em>pdb_hierarchy</em>, <em>crystal_symmetry</em><big>)</big><a class="headerlink" href="#mmtbx.utils.shift_origin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.shift_origin.shift_back" title="mmtbx.utils.shift_origin.shift_back"><tt class="xref py py-obj docutils literal"><span class="pre">shift_back</span></tt></a>(pdb_hierarchy)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mmtbx.utils.shift_origin.show_shifted" title="mmtbx.utils.shift_origin.show_shifted"><tt class="xref py py-obj docutils literal"><span class="pre">show_shifted</span></tt></a>()</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mmtbx.utils.shift_origin.shift_back">
<tt class="descname">shift_back</tt><big>(</big><em>pdb_hierarchy</em><big>)</big><a class="headerlink" href="#mmtbx.utils.shift_origin.shift_back" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.shift_origin.show_shifted">
<tt class="descname">show_shifted</tt><big>(</big><big>)</big><a class="headerlink" href="#mmtbx.utils.shift_origin.show_shifted" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="mmtbx.utils.states">
<em class="property">class </em><tt class="descclassname">mmtbx.utils.</tt><tt class="descname">states</tt><big>(</big><em>pdb_hierarchy</em>, <em>xray_structure=None</em><big>)</big><a class="headerlink" href="#mmtbx.utils.states" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.states.add" title="mmtbx.utils.states.add"><tt class="xref py py-obj docutils literal"><span class="pre">add</span></tt></a>(sites_cart)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mmtbx.utils.states.write" title="mmtbx.utils.states.write"><tt class="xref py py-obj docutils literal"><span class="pre">write</span></tt></a>(file_name[,&nbsp;crystal_symmetry])</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mmtbx.utils.states.add">
<tt class="descname">add</tt><big>(</big><em>sites_cart</em><big>)</big><a class="headerlink" href="#mmtbx.utils.states.add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.states.write">
<tt class="descname">write</tt><big>(</big><em>file_name</em>, <em>crystal_symmetry=None</em><big>)</big><a class="headerlink" href="#mmtbx.utils.states.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="mmtbx.utils.structure_factors_from_map">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">structure_factors_from_map</tt><big>(</big><em>map_data</em>, <em>unit_cell_lengths</em>, <em>n_real</em>, <em>crystal_symmetry</em>, <em>resolution_factor=0.25</em><big>)</big><a class="headerlink" href="#mmtbx.utils.structure_factors_from_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.switch_rotamers">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">switch_rotamers</tt><big>(</big><em>pdb_hierarchy</em>, <em>mode</em>, <em>selection=None</em>, <em>mon_lib_srv=None</em><big>)</big><a class="headerlink" href="#mmtbx.utils.switch_rotamers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.write_pdb_file">
<tt class="descclassname">mmtbx.utils.</tt><tt class="descname">write_pdb_file</tt><big>(</big><em>xray_structure</em>, <em>pdb_hierarchy</em>, <em>pdb_atoms=None</em>, <em>write_cryst1_record=True</em>, <em>selection=None</em>, <em>atoms_reset_serial=True</em>, <em>out=None</em>, <em>return_pdb_string=False</em><big>)</big><a class="headerlink" href="#mmtbx.utils.write_pdb_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the specified model to a PDB-format file, incorporating refined atomic
parameters.</p>
</dd></dl>

<dl class="class">
<dt id="mmtbx.utils.xray_structures_from_processed_pdb_file">
<em class="property">class </em><tt class="descclassname">mmtbx.utils.</tt><tt class="descname">xray_structures_from_processed_pdb_file</tt><big>(</big><em>processed_pdb_file</em>, <em>scattering_table</em>, <em>d_min</em>, <em>log=None</em><big>)</big><a class="headerlink" href="#mmtbx.utils.xray_structures_from_processed_pdb_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
</dd></dl>

</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mmtbx.utils.fab_elbow_angle">
<span id="mmtbx-utils-fab-elbow-angle-module"></span><h2>mmtbx.utils.fab_elbow_angle module<a class="headerlink" href="#module-mmtbx.utils.fab_elbow_angle" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle">
<em class="property">class </em><tt class="descclassname">mmtbx.utils.fab_elbow_angle.</tt><tt class="descname">fab_elbow_angle</tt><big>(</big><em>pdb_hierarchy</em>, <em>chain_id_light='L'</em>, <em>chain_id_heavy='H'</em>, <em>limit_light=107</em>, <em>limit_heavy=113</em><big>)</big><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.cross_product_as_unit_axis" title="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.cross_product_as_unit_axis"><tt class="xref py py-obj docutils literal"><span class="pre">cross_product_as_unit_axis</span></tt></a>(a,&nbsp;b)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_angle" title="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_angle"><tt class="xref py py-obj docutils literal"><span class="pre">get_angle</span></tt></a>(vec1,&nbsp;vec2[,&nbsp;larger])</td>
<td>retrun the larger angle between vec1 and vec2</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_eigenvector" title="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_eigenvector"><tt class="xref py py-obj docutils literal"><span class="pre">get_eigenvector</span></tt></a>(eigen)</td>
<td>Get the eigen vector for eigen value 1 and normalize it</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_pdb_chains" title="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_pdb_chains"><tt class="xref py py-obj docutils literal"><span class="pre">get_pdb_chains</span></tt></a>()</td>
<td>Create seperate pdb hierarchy for each on the chains we want to align</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_transformation" title="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_transformation"><tt class="xref py py-obj docutils literal"><span class="pre">get_transformation</span></tt></a>(fixed_selection,&nbsp;...)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.norm_vec" title="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.norm_vec"><tt class="xref py py-obj docutils literal"><span class="pre">norm_vec</span></tt></a>(start,&nbsp;end)</td>
<td>retruns normalized vector that starts at &#8220;stat&#8221; and ends at &#8220;end&#8221;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.select_str" title="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.select_str"><tt class="xref py py-obj docutils literal"><span class="pre">select_str</span></tt></a>(chain_ID_H,&nbsp;limit_H,&nbsp;chain_ID_L,&nbsp;...)</td>
<td>create selection strings for the heavy and light chains</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.cross_product_as_unit_axis">
<tt class="descname">cross_product_as_unit_axis</tt><big>(</big><em>a</em>, <em>b</em><big>)</big><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.cross_product_as_unit_axis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_angle">
<tt class="descname">get_angle</tt><big>(</big><em>vec1</em>, <em>vec2</em>, <em>larger=True</em><big>)</big><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_angle" title="Permalink to this definition">¶</a></dt>
<dd><p>retrun the larger angle between vec1 and vec2</p>
</dd></dl>

<dl class="method">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_eigenvector">
<tt class="descname">get_eigenvector</tt><big>(</big><em>eigen</em><big>)</big><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_eigenvector" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the eigen vector for eigen value 1 and normalize it</p>
</dd></dl>

<dl class="method">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_pdb_chains">
<tt class="descname">get_pdb_chains</tt><big>(</big><big>)</big><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_pdb_chains" title="Permalink to this definition">¶</a></dt>
<dd><p>Create seperate pdb hierarchy for each on the chains we want to align</p>
</dd></dl>

<dl class="method">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_transformation">
<tt class="descname">get_transformation</tt><big>(</big><em>fixed_selection</em>, <em>moving_selection</em><big>)</big><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.get_transformation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.norm_vec">
<tt class="descname">norm_vec</tt><big>(</big><em>start</em>, <em>end</em><big>)</big><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.norm_vec" title="Permalink to this definition">¶</a></dt>
<dd><p>retruns normalized vector that starts at &#8220;stat&#8221; and ends at &#8220;end&#8221;</p>
</dd></dl>

<dl class="method">
<dt id="mmtbx.utils.fab_elbow_angle.fab_elbow_angle.select_str">
<tt class="descname">select_str</tt><big>(</big><em>chain_ID_H</em>, <em>limit_H</em>, <em>chain_ID_L</em>, <em>limit_L</em><big>)</big><a class="headerlink" href="#mmtbx.utils.fab_elbow_angle.fab_elbow_angle.select_str" title="Permalink to this definition">¶</a></dt>
<dd><p>create selection strings for the heavy and light chains
separating the variable and constant parts of the chains</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="mmtbx-utils-ncs-utils-module">
<h2>mmtbx.utils.ncs_utils module<a class="headerlink" href="#mmtbx-utils-ncs-utils-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-mmtbx.utils.rotatable_bonds">
<span id="mmtbx-utils-rotatable-bonds-module"></span><h2>mmtbx.utils.rotatable_bonds module<a class="headerlink" href="#module-mmtbx.utils.rotatable_bonds" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="mmtbx.utils.rotatable_bonds.axes_and_atoms_aa_specific">
<tt class="descclassname">mmtbx.utils.rotatable_bonds.</tt><tt class="descname">axes_and_atoms_aa_specific</tt><big>(</big><em>residue</em>, <em>mon_lib_srv</em>, <em>remove_clusters_with_all_h=False</em>, <em>include_labels=False</em>, <em>tardy_model=None</em>, <em>log=None</em><big>)</big><a class="headerlink" href="#mmtbx.utils.rotatable_bonds.axes_and_atoms_aa_specific" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="mmtbx.utils.rotatable_bonds.tardy_model_one_residue">
<tt class="descclassname">mmtbx.utils.rotatable_bonds.</tt><tt class="descname">tardy_model_one_residue</tt><big>(</big><em>residue</em>, <em>mon_lib_srv</em>, <em>log=None</em><big>)</big><a class="headerlink" href="#mmtbx.utils.rotatable_bonds.tardy_model_one_residue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">mmtbx.utils package</a><ul>
<li><a class="reference internal" href="#module-mmtbx.utils">Module contents</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-mmtbx.utils.fab_elbow_angle">mmtbx.utils.fab_elbow_angle module</a></li>
<li><a class="reference internal" href="#mmtbx-utils-ncs-utils-module">mmtbx.utils.ncs_utils module</a></li>
<li><a class="reference internal" href="#module-mmtbx.utils.rotatable_bonds">mmtbx.utils.rotatable_bonds module</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/mmtbx/mmtbx.utils.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">CCTBX None documentation</a> &raquo;</li>
          <li><a href="mmtbx.html" >mmtbx - macromolecular crystallography</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, University of California.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>